!function(e,t,n){t.getElementById("connect"),t.getElementById("connect-icon"),t.getElementById("water-on"),t.getElementById("light");let o=t.getElementById("modal");t.querySelector(".close").onclick=function(){o.classList.toggle("hidden")}}(window,document);let menuBtn=document.getElementById("openMenu");menuBtn.addEventListener("click",function(){document.querySelector(".content-footer.auto").classList.toggle("menu-open"),document.querySelector(".content-footer.auto").classList.contains("menu-open")?document.querySelector("#menuIcon").classList.replace("fa-bars","fa-times"):document.querySelector("#menuIcon").classList.replace("fa-times","fa-bars")}),window,document,function(e,t,n){let o=!1,a=null,i=":3000";function l(e,t,n,o,a){this.name=e,this.duration=t,this.light=n,this.feed=o,this.temperature=a}var c=new l("filsToms",30,5,10,20);new l("disco",30,.5,1,30),new l("temp",30,15,15,10);function r(){t.getElementById("lightfade").classList.toggle("power"),barlist=t.getElementsByClassName("bars");for(var e=0;e<barlist.length;e++)barlist[e].classList.toggle("hidden")}let s=!1,d=0;let u=t.getElementById("tatty-old-recipe");u.addEventListener("click",function(){new Promise(function(n,l){console.log("connecting to CloudPlantIO..."),t.getElementById("shield").classList.toggle("hidden"),t.querySelector(".content-footer").classList.toggle("active"),e.RTCPeerConnection=e.RTCPeerConnection||e.mozRTCPeerConnection||e.webkitRTCPeerConnection;var c=new RTCPeerConnection({iceServers:[]}),r=function(){};c.createDataChannel(""),c.createOffer(c.setLocalDescription.bind(c),r),c.onicecandidate=function(e){if(e&&e.candidate&&e.candidate.candidate){var t=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(e.candidate.candidate)[1];c.onicecandidate=r,a=io(t+i),o=!0,console.log("Connected!"),n({name:"alcwyn",hobby:"coding"})}}}).then((e,n)=>{setTimeout(u.innerHTML="Connected to CloudPlantIO!",3e3),function(e){console.log("Starting: "+Object.values(e)[0]+", "+Object.values(e)[1]+", "+Object.values(e)[2]+", "+Object.values(e)[3]+", "+Object.values(e)[4]),startTime=(new Date).getTime(),startDate=new Date(startTime),durationLength=(n=Object.values(e)[1],ms=24*n*60*60*1e3,ms),finishTime=new Date(startTime+durationLength),console.log("Date started: "+startDate),console.log("Duration: "+Object.values(e)[1]+" days"),console.log("Expected harvest: "+finishTime),console.log("Harvest info: "+durationLength);var n;let o=1e3*Object.values(e)[2],i=(Object.values(e)[3],setTimeout(function t(){var n;n=Object.keys(e)[2],!1===s?(console.log("turning on "+n),a.emit("hardware",{type:n+"-on",duration:"UNKNOWN"}),r(),s=!0,console.log(s)):!0===s&&(console.log("turning off "+n),a.emit("hardware",{type:n+"-off",duration:"UNKNOWN"}),r(),s=!1,console.log(s)),i=setTimeout(t,o)},o));setInterval(function(){if(target=Object.values(e)[4],d<=target){console.log("Ambient temperature: "+d),console.log("Target temperature: "+target),console.log("turning on thermostat"),a.emit("hardware",{type:"thermostat-on",duration:"UNKNOWN"});let e=t.querySelector(".mercury"),n=t.querySelector(".mercury span"),o=t.querySelector(".target");convertedTemp=2*d+20,targetTop=100-(2*target+20),topValue=100-convertedTemp,o.style.top=targetTop+"%",e.style.height=convertedTemp+"%",n.innerHTML=d+"&deg;",n.style.top=topValue+"%",d++}else console.log("Ambient temperature: "+d),console.log("Target temperature: "+target),console.log("turning off thermostat"),a.emit("hardware",{type:"thermostat-off",duration:"UNKNOWN"}),d--},1e3)}(c)})})}(window,document),window,document,function(e,t,n){$(".onboarding").slick({dots:!0,arrows:!1,draggable:!0,mobileFirst:!0,infinite:!1});let o=t.getElementById("skip");o.addEventListener("click",function(){t.querySelector(".onboarding").style.display="none",o.style.display="none"}),t.querySelector(".finished-onboarding").addEventListener("click",function(){t.querySelector(".onboarding").style.display="none",o.style.display="none"})}(window,document);